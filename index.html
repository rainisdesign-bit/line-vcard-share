<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Share Card</title>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<style>
body{font-family:sans-serif;padding:20px;text-align:center;background-color:#f0f0f0}
.loader{border:5px solid #e0e0e0;border-top:5px solid #06C755;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:0 auto 20px auto}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
#status{color:#555;font-size:14px;margin-bottom:20px;white-space:pre-wrap}
.error{color:red;font-weight:bold}
.btn{background-color:#06C755;color:white;padding:10px 20px;border:none;border-radius:5px;font-size:16px;display:none;margin:0 auto;cursor:pointer}
</style>
</head>
<body>
<div id="loader" class="loader"></div>
<div id="status">Loading...</div>
<button id="closeBtn" class="btn" onclick="liff.closeWindow()">Close</button>
<script>
// LIFF ID è¨­å®š
const MY_LIFF_ID="2008686661-zWb1iatn";

const cardDatabase={

// ðŸŸ¦ card1: å°æ‡‰ ã€Œé›¨æ€è¨­è¨ˆé›»å­åç‰‡ã€ (åŽŸæœ¬çš„ card2 å–®å¼µç‰ˆ)
"card1":{
    "type":"flex",
    "altText":"é›¨æ€è¨­è¨ˆåç‰‡",
    "contents":{
    "type":"carousel",
    "contents":[
    {
    "type":"bubble",
    "size":"kilo",
    "hero":{"type":"image","url":"https://i.ibb.co/Xx8ZNRjq/image.jpg","size":"full","aspectRatio":"3:4","aspectMode":"cover"},
    "footer":{
    "type":"box","layout":"vertical","spacing":"sm","backgroundColor":"#000000",
    "contents":[
    {"type":"button","style":"primary","color":"#1c60ff","height":"sm","action":{"type":"uri","label":"é›¨æ€è¨­è¨ˆ | ä½œå“é›†","uri":"https://www.facebook.com/rainisdesign/photos"}},
    // âš ï¸ æ³¨æ„ï¼šé€™è£¡çš„é€£çµåƒæ•¸å·²æ”¹ç‚º type=card1
    {"type":"button","style":"secondary","color":"#ffffff","height":"sm","action":{"type":"uri","label":"åˆ†äº«çµ¦å¥½å‹","uri":"https://liff.line.me/2008686661-zWb1iatn?type=card1"}}
    ]
    }
    }
    ]
    }
},

// ðŸŸ¨ card2: å°æ‡‰ ã€Œé›¨æ€çŽ²å¦®ã€ (å€‹äººç‰ˆ)
"card2":{
    "type":"flex",
    "altText":"é›¨æ€çŽ²å¦®åç‰‡",
    "contents":{
    "type":"carousel",
    "contents":[
    {
    "type":"bubble",
    "size":"kilo",
    "hero":{"type":"image","url":"https://i.ibb.co/Xx8ZNRjq/image.jpg","size":"full","aspectRatio":"3:4","aspectMode":"cover"},
    "footer":{
    "type":"box","layout":"vertical","spacing":"sm","backgroundColor":"#000000",
    "contents":[
    {"type":"button","style":"primary","color":"#1c60ff","height":"sm","action":{"type":"uri","label":"ç€è¦½å€‹äººIG","uri":"https://instagram.com"}},
    // âš ï¸ æ³¨æ„ï¼šé€™è£¡çš„é€£çµåƒæ•¸å·²æ”¹ç‚º type=card2
    {"type":"button","style":"secondary","color":"#ffffff","height":"sm","action":{"type":"uri","label":"åˆ†äº«çµ¦å¥½å‹","uri":"https://liff.line.me/2008686661-zWb1iatn?type=card2"}}
    ]
    }
    }
    ]
    }
},

// ðŸŸ¥ card3: å°æ‡‰ ã€Œé›¨æ€åç‰‡å®£å‚³ã€ (åŽŸæœ¬çš„ card1 ä¸‰å¼µè¼ªæ’­ç‰ˆ)
"card3":{
    "type":"flex",
    "altText":"é›¨æ€åç‰‡å®£å‚³",
    "contents":{
    "type":"carousel",
    "contents":[
    {
    "type":"bubble",
    "size":"kilo",
    "hero":{"type":"image","url":"https://i.ibb.co/Xx8ZNRjq/image.jpg","size":"full","aspectRatio":"3:4","aspectMode":"cover"},
    "footer":{
    "type":"box","layout":"vertical","spacing":"sm","backgroundColor":"#000000",
    "contents":[
    {"type":"button","style":"primary","color":"#1c60ff","height":"sm","action":{"type":"uri","label":"é›¨æ€è¨­è¨ˆ | ä½œå“é›†","uri":"https://www.facebook.com/rainisdesign"}},
    // âš ï¸ æ³¨æ„ï¼šé€™è£¡çš„é€£çµåƒæ•¸å·²æ”¹ç‚º type=card3
    {"type":"button","style":"secondary","color":"#ffffff","height":"sm","action":{"type":"uri","label":"åˆ†äº«çµ¦å¥½å‹","uri":"https://liff.line.me/2008686661-zWb1iatn?type=card3"}}
    ]
    }
    },
    {
    "type":"bubble",
    "size":"kilo",
    "hero":{"type":"image","url":"https://i.ibb.co/zh7GrP4m/2.jpg","size":"full","aspectRatio":"3:4","aspectMode":"cover"},
    "footer":{
    "type":"box","layout":"vertical","spacing":"sm","backgroundColor":"#000000",
    "contents":[
    {"type":"button","style":"primary","color":"#1c60ff","height":"sm","action":{"type":"uri","label":"LINEé›»å­åç‰‡ä»‹ç´¹","uri":"https://rainistech.com/"}},
    {"type":"button","style":"secondary","color":"#009cff","height":"sm","action":{"type":"uri","label":"åƒ¹ç›®è¡¨","uri":"https://i.ibb.co/sdHFqSM1/LINE.png"}}
    ]
    }
    },
    {
    "type":"bubble",
    "size":"kilo",
    "hero":{"type":"image","url":"https://i.ibb.co/qYsMwf4W/image.jpg","size":"full","aspectRatio":"3:4","aspectMode":"cover"},
    "footer":{
    "type":"box","layout":"vertical","spacing":"sm","backgroundColor":"#d9dadd",
    "contents":[
    {"type":"button","style":"primary","color":"#1c60ff","height":"sm","action":{"type":"uri","label":"åŠ å…¥å®˜æ–¹LINE","uri":"https://line.me/R/ti/p/@100tgmza"}},
    {"type":"button","style":"primary","color":"#000000","height":"sm","action":{"type":"uri","label":"åŠ æˆ‘å¥½å‹","uri":"https://line.me/ti/p/NrZdYYSlYJ"}}
    ]
    }
    }
    ]
    }
}
};

function log(msg,isError=false){const statusEl=document.getElementById('status');statusEl.innerText+="\n"+msg;if(isError){statusEl.className="error";document.getElementById('loader').style.display='none';document.getElementById('closeBtn').style.display='block';}}
async function main(){try{await liff.init({liffId:MY_LIFF_ID});const urlParams=new URLSearchParams(window.location.search);const cardType=urlParams.get('type')||'card1';const messageToSend=cardDatabase[cardType];if(!messageToSend){log("Error: Card type not found",true);return;}if(!liff.isLoggedIn()){liff.login();return;}if(liff.isApiAvailable('shareTargetPicker')){document.getElementById('loader').style.display='none';const result=await liff.shareTargetPicker([messageToSend]);if(result){document.getElementById('status').innerText="Success!";document.getElementById('status').style.color="green";setTimeout(()=>{liff.closeWindow();},2000);}else{liff.closeWindow();}}}catch(err){log("Error: "+err.message,true);}}main();
</script>
</body>
</html>
